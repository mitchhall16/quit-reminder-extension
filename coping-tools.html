<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Coping Tools</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
      color: white;
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 10px;
      background: linear-gradient(135deg, #22d3ee, #4ade80);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .subtitle {
      text-align: center;
      color: #64748b;
      margin-bottom: 30px;
    }

    .tool-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 30px;
    }

    .tool-card {
      background: rgba(255,255,255,0.05);
      border: 2px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .tool-card:hover {
      background: rgba(255,255,255,0.1);
      border-color: rgba(255,255,255,0.2);
    }

    .tool-card.active {
      border-color: #22d3ee;
      background: rgba(34, 211, 238, 0.1);
    }

    .tool-icon {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .tool-name {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .tool-desc {
      font-size: 0.8rem;
      color: #64748b;
    }

    .tool-content {
      display: none;
      background: rgba(255,255,255,0.03);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 20px;
    }

    .tool-content.active {
      display: block;
    }

    /* Breathing Exercise */
    .breathing-circle {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(135deg, #22d3ee, #4ade80);
      margin: 30px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 4s ease-in-out;
    }

    .breathing-circle.inhale {
      transform: scale(1.3);
    }

    .breathing-circle.exhale {
      transform: scale(1);
    }

    .breathing-text {
      font-size: 1.5rem;
      font-weight: 700;
      color: #0f172a;
    }

    .breathing-instruction {
      text-align: center;
      font-size: 1.2rem;
      color: #94a3b8;
      margin-bottom: 20px;
    }

    .breathing-btn {
      display: block;
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #22d3ee, #4ade80);
      border: none;
      border-radius: 10px;
      color: #0f172a;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }

    /* Craving Timer */
    .timer-display {
      text-align: center;
      padding: 40px;
    }

    .timer-number {
      font-size: 5rem;
      font-weight: 900;
      font-family: monospace;
      background: linear-gradient(135deg, #f87171, #22d3ee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .timer-label {
      font-size: 1rem;
      color: #64748b;
      margin-top: 10px;
    }

    .timer-message {
      font-size: 1.1rem;
      color: #94a3b8;
      margin: 20px 0;
      line-height: 1.6;
    }

    .timer-btn {
      display: block;
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #f87171, #fb923c);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }

    .progress-bar {
      height: 10px;
      background: rgba(255,255,255,0.1);
      border-radius: 5px;
      margin-top: 20px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #f87171, #22d3ee, #4ade80);
      transition: width 1s linear;
    }

    /* Grounding */
    .grounding-step {
      padding: 20px;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      margin-bottom: 15px;
      border-left: 4px solid #a855f7;
    }

    .grounding-step.done {
      opacity: 0.5;
      border-left-color: #4ade80;
    }

    .grounding-number {
      display: inline-block;
      width: 30px;
      height: 30px;
      background: #a855f7;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: 700;
      margin-right: 10px;
    }

    .grounding-step.done .grounding-number {
      background: #4ade80;
    }

    .grounding-text {
      display: inline;
      font-size: 1rem;
    }

    .grounding-input {
      width: 100%;
      padding: 10px;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 6px;
      color: white;
      margin-top: 10px;
      font-size: 0.9rem;
    }

    .grounding-input:focus {
      outline: none;
      border-color: #a855f7;
    }

    /* Play Tape Forward */
    .tape-scenario {
      text-align: center;
      padding: 20px;
    }

    .tape-question {
      font-size: 1.3rem;
      color: #f87171;
      margin-bottom: 30px;
      line-height: 1.5;
    }

    .tape-timeline {
      text-align: left;
    }

    .tape-moment {
      padding: 15px;
      background: rgba(0,0,0,0.2);
      border-radius: 10px;
      margin-bottom: 10px;
      border-left: 3px solid;
    }

    .tape-moment.bad {
      border-color: #f87171;
    }

    .tape-time {
      font-size: 0.8rem;
      color: #64748b;
      margin-bottom: 5px;
    }

    .tape-feeling {
      color: #e2e8f0;
    }

    .tape-btn {
      display: block;
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #4ade80, #22c55e);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
    }

    /* Replacement Activity */
    .activity-display {
      text-align: center;
      padding: 40px 20px;
    }

    .activity-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .activity-name {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .activity-why {
      color: #94a3b8;
      margin-bottom: 30px;
    }

    .activity-btn {
      padding: 15px 30px;
      background: linear-gradient(135deg, #a855f7, #6366f1);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }

    .back-link {
      display: inline-block;
      margin-top: 30px;
      color: #64748b;
      text-decoration: none;
      font-size: 0.9rem;
    }

    .back-link:hover {
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Coping Tools</h1>
    <p class="subtitle">Quick techniques to ride out the craving.</p>

    <div class="tool-grid">
      <div class="tool-card" data-tool="breathing">
        <div class="tool-icon">üå¨Ô∏è</div>
        <div class="tool-name">Breathing</div>
        <div class="tool-desc">4-7-8 calming breath</div>
      </div>
      <div class="tool-card" data-tool="timer">
        <div class="tool-icon">‚è±Ô∏è</div>
        <div class="tool-name">Craving Timer</div>
        <div class="tool-desc">20 min countdown</div>
      </div>
      <div class="tool-card" data-tool="grounding">
        <div class="tool-icon">üåç</div>
        <div class="tool-name">Grounding</div>
        <div class="tool-desc">5-4-3-2-1 technique</div>
      </div>
      <div class="tool-card" data-tool="tape">
        <div class="tool-icon">üìº</div>
        <div class="tool-name">Play It Forward</div>
        <div class="tool-desc">See the future</div>
      </div>
      <div class="tool-card" data-tool="activity">
        <div class="tool-icon">üé≤</div>
        <div class="tool-name">Do Instead</div>
        <div class="tool-desc">Random activity</div>
      </div>
    </div>

    <!-- BREATHING -->
    <div class="tool-content" id="breathing-content">
      <div class="breathing-instruction" id="breathingInstruction">
        The 4-7-8 breath calms your nervous system.<br>Press start and follow the circle.
      </div>
      <div class="breathing-circle" id="breathingCircle">
        <span class="breathing-text" id="breathingText">Ready</span>
      </div>
      <button class="breathing-btn" id="breathingBtn">Start Breathing Exercise</button>
    </div>

    <!-- TIMER -->
    <div class="tool-content" id="timer-content">
      <div class="timer-display">
        <div class="timer-number" id="timerNumber">20:00</div>
        <div class="timer-label">minutes remaining</div>
        <div class="progress-bar">
          <div class="progress-fill" id="timerProgress" style="width: 100%"></div>
        </div>
        <div class="timer-message" id="timerMessage">
          Cravings peak around 3-5 minutes, then fade.<br>
          You just have to survive 20 minutes. You've survived worse.
        </div>
      </div>
      <button class="timer-btn" id="timerBtn">Start Timer</button>
    </div>

    <!-- GROUNDING -->
    <div class="tool-content" id="grounding-content">
      <p style="color: #94a3b8; margin-bottom: 20px;">Focus on your senses. This pulls you out of your head and into the present.</p>

      <div class="grounding-step" data-step="5">
        <span class="grounding-number">5</span>
        <span class="grounding-text">things you can SEE</span>
        <input type="text" class="grounding-input" placeholder="e.g., lamp, window, keyboard...">
      </div>
      <div class="grounding-step" data-step="4">
        <span class="grounding-number">4</span>
        <span class="grounding-text">things you can TOUCH</span>
        <input type="text" class="grounding-input" placeholder="e.g., chair, desk, phone...">
      </div>
      <div class="grounding-step" data-step="3">
        <span class="grounding-number">3</span>
        <span class="grounding-text">things you can HEAR</span>
        <input type="text" class="grounding-input" placeholder="e.g., fan, traffic, music...">
      </div>
      <div class="grounding-step" data-step="2">
        <span class="grounding-number">2</span>
        <span class="grounding-text">things you can SMELL</span>
        <input type="text" class="grounding-input" placeholder="e.g., coffee, air freshener...">
      </div>
      <div class="grounding-step" data-step="1">
        <span class="grounding-number">1</span>
        <span class="grounding-text">thing you can TASTE</span>
        <input type="text" class="grounding-input" placeholder="e.g., water, gum...">
      </div>
    </div>

    <!-- PLAY TAPE FORWARD -->
    <div class="tool-content" id="tape-content">
      <div class="tape-scenario">
        <div class="tape-question">
          If you give in right now, here's how the next few hours will go:
        </div>
        <div class="tape-timeline" id="tapeTimeline">
          <!-- Filled by JS based on addiction type -->
        </div>
        <button class="tape-btn" id="tapeBtn">I Won't Give In</button>
      </div>
    </div>

    <!-- REPLACEMENT ACTIVITY -->
    <div class="tool-content" id="activity-content">
      <div class="activity-display">
        <div class="activity-icon" id="activityIcon">üèÉ</div>
        <div class="activity-name" id="activityName">Go for a walk</div>
        <div class="activity-why" id="activityWhy">Physical movement releases the same chemicals you're craving.</div>
        <button class="activity-btn" id="activityBtn">Give me another</button>
      </div>
    </div>

    <a href="#" class="back-link" id="backLink">‚Üê Back</a>
  </div>

  <script src="coping-tools.js"></script>
</body>
</html>
